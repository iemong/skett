{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/irie-shinnosuke/Documents/works/skett/skett/pages/index.tsx\";\nvar __jsx = React.createElement;\nimport * as React from 'react';\nimport firebaseApp from \"../assets/utils/firebaseApp\";\nimport { COLLECTIONS } from \"../assets/constant\";\nimport Home from \"../components/templates/home\";\n\nvar PageHome = function PageHome(props) {\n  var data = props.data;\n  return __jsx(Home, {\n    data: data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  });\n};\n\nPageHome.getInitialProps =\n/*#__PURE__*/\n_asyncToGenerator(\n/*#__PURE__*/\n_regeneratorRuntime.mark(function _callee() {\n  var db, docRef, postData, data;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          db = firebaseApp.firestore();\n          docRef = db.collection(COLLECTIONS.POSTS);\n          _context.next = 4;\n          return docRef.orderBy('timestamp', 'desc').get()[\"catch\"](function (e) {\n            return console.error(e);\n          });\n\n        case 4:\n          postData = _context.sent;\n          data = postData && postData.docs.map(function (doc) {\n            return _objectSpread({}, doc.data());\n          });\n          return _context.abrupt(\"return\", {\n            data: data\n          });\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default PageHome;","map":{"version":3,"sources":["/Users/irie-shinnosuke/Documents/works/skett/skett/pages/index.tsx"],"names":["React","firebaseApp","COLLECTIONS","Home","PageHome","props","data","getInitialProps","db","firestore","docRef","collection","POSTS","orderBy","get","e","console","error","postData","docs","map","doc"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,WAAP;AACA,SAASC,WAAT;AACA,OAAOC,IAAP;;AAOA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAA+B;AAAA,MACpCC,IADoC,GAC3BD,KAD2B,CACpCC,IADoC;AAE5C,SAAO,MAAC,IAAD;AAAM,IAAA,IAAI,EAAEA,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACH,CAHD;;AAKAF,QAAQ,CAACG,eAAT;AAAA;AAAA;AAAA;AAAA,yBAA2B;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBC,UAAAA,EADiB,GACZP,WAAW,CAACQ,SAAZ,EADY;AAEjBC,UAAAA,MAFiB,GAERF,EAAE,CAACG,UAAH,CAAcT,WAAW,CAACU,KAA1B,CAFQ;AAAA;AAAA,iBAGAF,MAAM,CACxBG,OADkB,CACV,WADU,EACG,MADH,EAElBC,GAFkB,YAGZ,UAAAC,CAAC;AAAA,mBAAIC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAAJ;AAAA,WAHW,CAHA;;AAAA;AAGjBG,UAAAA,QAHiB;AAOjBZ,UAAAA,IAPiB,GAQnBY,QAAQ,IACRA,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,UAAAC,GAAG,EAAI;AACrB,qCAAYA,GAAG,CAACf,IAAJ,EAAZ;AACH,WAFD,CATmB;AAAA,2CAYhB;AAAEA,YAAAA,IAAI,EAAJA;AAAF,WAZgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA3B;AAeA,eAAeF,QAAf","sourcesContent":["import * as React from 'react'\nimport firebaseApp from 'assets/utils/firebaseApp'\nimport { COLLECTIONS } from 'assets/constant'\nimport Home from 'components/templates/home'\nimport { PostType } from 'types/index'\n\ntype Props = {\n    data: PostType[]\n}\n\nconst PageHome = (props: Props): JSX.Element => {\n    const { data } = props\n    return <Home data={data} />\n}\n\nPageHome.getInitialProps = async (): Promise<{ data: void | firebase.firestore.DocumentData[] }> => {\n    const db = firebaseApp.firestore()\n    const docRef = db.collection(COLLECTIONS.POSTS)\n    const postData = await docRef\n        .orderBy('timestamp', 'desc')\n        .get()\n        .catch(e => console.error(e))\n    const data =\n        postData &&\n        postData.docs.map(doc => {\n            return { ...doc.data() }\n        })\n    return { data }\n}\n\nexport default PageHome\n"]},"metadata":{},"sourceType":"module"}