{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/irie-shinnosuke/Documents/works/skett/skett/pages/login.tsx\";\nvar __jsx = React.createElement;\nimport * as React from 'react';\nimport * as firebase from 'firebase/app';\nimport { FirebaseAuth } from 'react-firebaseui';\nimport \"../assets/css/firebaseui-styling.global.css\";\nimport { bindActionCreators } from 'redux';\nimport { useDispatch } from 'react-redux';\nimport * as Actions from \"../reducers/user/actions\";\nimport Main from \"../components/templates/layouts/Main\";\n\nvar Login = function Login() {\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      user = _React$useState2[0],\n      setUser = _React$useState2[1];\n\n  var dispatch = useDispatch();\n  var actions = React.useMemo(function () {\n    return bindActionCreators(Actions, dispatch);\n  }, [dispatch]);\n  var provider = new firebase.auth.FacebookAuthProvider();\n  provider.setCustomParameters({\n    display: 'popup'\n  });\n  var uiConfig = {\n    signInFlow: 'popup',\n    signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID, firebase.auth.FacebookAuthProvider.PROVIDER_ID, firebase.auth.TwitterAuthProvider.PROVIDER_ID],\n    callbacks: {\n      signInSuccessWithAuthResult: function signInSuccessWithAuthResult() {\n        return false;\n      }\n    }\n  };\n  React.useEffect(function () {\n    var unregisterAuthObserver = firebase.auth().onAuthStateChanged(function (user) {\n      return setUser(user);\n    });\n    return function () {\n      unregisterAuthObserver();\n    };\n  }, []);\n  React.useEffect(function () {\n    if (user) {\n      console.log(user);\n      actions.initialize(user);\n    }\n  }, [user]);\n  return __jsx(Main, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, __jsx(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, __jsx(FirebaseAuth, {\n    uiConfig: uiConfig,\n    firebaseAuth: firebase.auth(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), user && __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"name : \".concat(user.displayName)), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"mail : \".concat(user.email)), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"url: \".concat(user.photoURL)), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"uid : \".concat(user.uid)))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/irie-shinnosuke/Documents/works/skett/skett/pages/login.tsx"],"names":["React","firebase","FirebaseAuth","bindActionCreators","useDispatch","Actions","Main","Login","useState","user","setUser","dispatch","actions","useMemo","provider","auth","FacebookAuthProvider","setCustomParameters","display","uiConfig","signInFlow","signInOptions","EmailAuthProvider","PROVIDER_ID","TwitterAuthProvider","callbacks","signInSuccessWithAuthResult","useEffect","unregisterAuthObserver","onAuthStateChanged","console","log","initialize","displayName","email","photoURL","uid"],"mappings":";;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,QAAZ,MAA0B,cAA1B;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAO,KAAKC,OAAZ;AACA,OAAOC,IAAP;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAmB;AAAA,wBACLP,KAAK,CAACQ,QAAN,CAAoB,IAApB,CADK;AAAA;AAAA,MACtBC,IADsB;AAAA,MAChBC,OADgB;;AAE7B,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;AACA,MAAMQ,OAAO,GAAGZ,KAAK,CAACa,OAAN,CAAc,YAAM;AAChC,WAAOV,kBAAkB,CAACE,OAAD,EAAUM,QAAV,CAAzB;AACH,GAFe,EAEb,CAACA,QAAD,CAFa,CAAhB;AAGA,MAAMG,QAAQ,GAAG,IAAIb,QAAQ,CAACc,IAAT,CAAcC,oBAAlB,EAAjB;AACAF,EAAAA,QAAQ,CAACG,mBAAT,CAA6B;AACzBC,IAAAA,OAAO,EAAE;AADgB,GAA7B;AAIA,MAAMC,QAAQ,GAAG;AACbC,IAAAA,UAAU,EAAE,OADC;AAEbC,IAAAA,aAAa,EAAE,CACXpB,QAAQ,CAACc,IAAT,CAAcO,iBAAd,CAAgCC,WADrB,EAEXtB,QAAQ,CAACc,IAAT,CAAcC,oBAAd,CAAmCO,WAFxB,EAGXtB,QAAQ,CAACc,IAAT,CAAcS,mBAAd,CAAkCD,WAHvB,CAFF;AAObE,IAAAA,SAAS,EAAE;AACPC,MAAAA,2BAA2B,EAAE;AAAA,eAAM,KAAN;AAAA;AADtB;AAPE,GAAjB;AAYA1B,EAAAA,KAAK,CAAC2B,SAAN,CAAgB,YAAM;AAClB,QAAMC,sBAAsB,GAAG3B,QAAQ,CAACc,IAAT,GAAgBc,kBAAhB,CAAmC,UAACpB,IAAD;AAAA,aAAgCC,OAAO,CAACD,IAAD,CAAvC;AAAA,KAAnC,CAA/B;AACA,WAAO,YAAY;AACfmB,MAAAA,sBAAsB;AACzB,KAFD;AAGH,GALD,EAKG,EALH;AAOA5B,EAAAA,KAAK,CAAC2B,SAAN,CAAgB,YAAM;AAClB,QAAIlB,IAAJ,EAAU;AACNqB,MAAAA,OAAO,CAACC,GAAR,CAAYtB,IAAZ;AACAG,MAAAA,OAAO,CAACoB,UAAR,CAAmBvB,IAAnB;AACH;AACJ,GALD,EAKG,CAACA,IAAD,CALH;AAOA,SACI,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,YAAD;AAAc,IAAA,QAAQ,EAAEU,QAAxB;AAAkC,IAAA,YAAY,EAAElB,QAAQ,CAACc,IAAT,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEKN,IAAI,IACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAcA,IAAI,CAACwB,WAAnB,EADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAcxB,IAAI,CAACyB,KAAnB,EAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAYzB,IAAI,CAAC0B,QAAjB,EAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAa1B,IAAI,CAAC2B,GAAlB,EAJJ,CAHR,CADJ,CADJ;AAeH,CApDD;;AAsDA,eAAe7B,KAAf","sourcesContent":["import * as React from 'react'\nimport * as firebase from 'firebase/app'\nimport { FirebaseAuth } from 'react-firebaseui'\nimport 'assets/css/firebaseui-styling.global.css'\nimport { bindActionCreators } from 'redux'\nimport { useDispatch } from 'react-redux'\nimport * as Actions from 'reducers/user/actions'\nimport Main from 'components/templates/layouts/Main'\n\nconst Login = (): JSX.Element => {\n    const [user, setUser] = React.useState<any>(null)\n    const dispatch = useDispatch()\n    const actions = React.useMemo(() => {\n        return bindActionCreators(Actions, dispatch)\n    }, [dispatch])\n    const provider = new firebase.auth.FacebookAuthProvider()\n    provider.setCustomParameters({\n        display: 'popup',\n    })\n\n    const uiConfig = {\n        signInFlow: 'popup',\n        signInOptions: [\n            firebase.auth.EmailAuthProvider.PROVIDER_ID,\n            firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n            firebase.auth.TwitterAuthProvider.PROVIDER_ID,\n        ],\n        callbacks: {\n            signInSuccessWithAuthResult: () => false,\n        },\n    }\n\n    React.useEffect(() => {\n        const unregisterAuthObserver = firebase.auth().onAuthStateChanged((user: firebase.User | null) => setUser(user))\n        return (): void => {\n            unregisterAuthObserver()\n        }\n    }, [])\n\n    React.useEffect(() => {\n        if (user) {\n            console.log(user)\n            actions.initialize(user)\n        }\n    }, [user])\n\n    return (\n        <Main>\n            <React.Fragment>\n                <FirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n                {user && (\n                    <div>\n                        <p>{`name : ${user.displayName}`}</p>\n                        <p>{`mail : ${user.email}`}</p>\n                        <p>{`url: ${user.photoURL}`}</p>\n                        <p>{`uid : ${user.uid}`}</p>\n                    </div>\n                )}\n            </React.Fragment>\n        </Main>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}