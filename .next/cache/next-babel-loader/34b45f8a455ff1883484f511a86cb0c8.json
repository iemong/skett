{"ast":null,"code":"var __jsx = React.createElement;\nimport * as React from 'react';\nimport styled from '@emotion/styled';\nimport Link from 'next/link';\nimport Main from \"../layouts/Main\";\nimport Tab from \"../../organisms/tab\";\nimport Card from \"../../molecules/card\";\nimport firebaseApp from \"../../../assets/utils/firebaseApp\";\nimport { COLLECTIONS } from \"../../../assets/constant\";\n\nconst Home = () => {\n  const db = firebaseApp.firestore();\n  const docRef = db.collection(COLLECTIONS.POSTS);\n  const [posts, setPosts] = React.useState([]);\n  const loadPostsData = React.useCallback(async () => {\n    const data = await docRef.orderBy('timestamp', 'desc').get().catch(e => console.error(e));\n    if (!data) return;\n    const docs = data.docs;\n    const posts = docs.map(doc => doc.data());\n    setPosts(posts);\n  }, [docRef]);\n  React.useEffect(() => {\n    loadPostsData();\n  }, []);\n  const helpPosts = React.useMemo(() => posts.map((post, index) => {\n    var _post$id;\n\n    return __jsx(Card, {\n      key: index,\n      imgUrl: post.imageUrl,\n      description: post.title,\n      link: `/posts/${(_post$id = post.id) !== null && _post$id !== void 0 ? _post$id : ''}`,\n      side: 'help'\n    });\n  }), [posts]);\n  const supportPosts = React.useMemo(() => posts.map((post, index) => {\n    var _post$id2;\n\n    return __jsx(Card, {\n      key: index,\n      imgUrl: post.imageUrl,\n      description: post.title,\n      link: `/posts/${(_post$id2 = post.id) !== null && _post$id2 !== void 0 ? _post$id2 : ''}`,\n      side: 'support'\n    });\n  }), [posts]);\n\n  const helpPostElement = __jsx(ItemWrapper, null, helpPosts);\n\n  const supportPostElement = __jsx(ItemWrapper, null, supportPosts);\n\n  return __jsx(Main, null, __jsx(React.Fragment, null, __jsx(Tab, {\n    leftContent: helpPostElement,\n    rightContent: supportPostElement\n  }), __jsx(Link, {\n    href: '/register'\n  }, __jsx(AddButton, null, \"\\u58F0\\u306E\\u8FFD\\u52A0\"))));\n};\n\nexport default Home;\nconst ItemWrapper = styled.div`\n    margin-top: 60px;\n`;\nconst AddButton = styled.button`\n    position: fixed;\n    right: 0;\n    bottom: 100px;\n    display: block;\n    width: 251px;\n    height: 81px;\n    background-image: url(/img/btn_add.png);\n    color: transparent;\n`;","map":null,"metadata":{},"sourceType":"module"}