{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/irie-shinnosuke/Documents/works/skett/skett/pages/posts/[postId].tsx\";\nvar __jsx = React.createElement;\nimport * as React from 'react';\nimport firebaseApp from \"../../assets/utils/firebaseApp\";\nimport { COLLECTIONS } from \"../../assets/constant\";\nimport PostDetail from \"../../components/templates/posts/detail\";\n\nvar PagePostDetail = function PagePostDetail(props) {\n  return __jsx(PostDetail, {\n    data: props.data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  });\n};\n\nPagePostDetail.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref) {\n    var query, db, docRef, postData, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref.query;\n            db = firebaseApp.firestore();\n            docRef = db.collection(COLLECTIONS.POSTS);\n            _context.next = 5;\n            return docRef.doc(query.postId).get()[\"catch\"](function (e) {\n              return console.error(e);\n            });\n\n          case 5:\n            postData = _context.sent;\n            data = postData && postData.exists ? _objectSpread({}, postData.data(), {\n              id: postData.id\n            }) : null;\n            return _context.abrupt(\"return\", {\n              data: data\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default PagePostDetail;","map":{"version":3,"sources":["/Users/irie-shinnosuke/Documents/works/skett/skett/pages/posts/[postId].tsx"],"names":["React","firebaseApp","COLLECTIONS","PostDetail","PagePostDetail","props","data","getInitialProps","query","db","firestore","docRef","collection","POSTS","doc","postId","get","e","console","error","postData","exists","id"],"mappings":";;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,WAAP;AACA,SAASC,WAAT;AAEA,OAAOC,UAAP;;AAMA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAkB;AACrC,SAAO,MAAC,UAAD;AAAY,IAAA,IAAI,EAAEA,KAAK,CAACC,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACH,CAFD;;AAIAF,cAAc,CAACG,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAC7BC,YAAAA,KAD6B,QAC7BA,KAD6B;AAKvBC,YAAAA,EALuB,GAKlBR,WAAW,CAACS,SAAZ,EALkB;AAMvBC,YAAAA,MANuB,GAMdF,EAAE,CAACG,UAAH,CAAcV,WAAW,CAACW,KAA1B,CANc;AAAA;AAAA,mBAONF,MAAM,CACxBG,GADkB,CACdN,KAAK,CAACO,MADQ,EAElBC,GAFkB,YAGZ,UAAAC,CAAC;AAAA,qBAAIC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAAJ;AAAA,aAHW,CAPM;;AAAA;AAOvBG,YAAAA,QAPuB;AAWvBd,YAAAA,IAXuB,GAWhBc,QAAQ,IAAIA,QAAQ,CAACC,MAArB,qBAAmCD,QAAQ,CAACd,IAAT,EAAnC;AAAoDgB,cAAAA,EAAE,EAAEF,QAAQ,CAACE;AAAjE,iBAAwE,IAXxD;AAAA,6CAYtB;AAAEhB,cAAAA,IAAI,EAAEA;AAAR,aAZsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjC;;AAAA;AAAA;AAAA;AAAA;;AAeA,eAAeF,cAAf","sourcesContent":["import * as React from 'react'\nimport firebaseApp from 'assets/utils/firebaseApp'\nimport { COLLECTIONS } from 'assets/constant'\nimport { PostType } from 'types/index'\nimport PostDetail from 'components/templates/posts/detail'\n\ntype Props = {\n    data: PostType\n}\n\nconst PagePostDetail = (props: Props) => {\n    return <PostDetail data={props.data} />\n}\n\nPagePostDetail.getInitialProps = async ({\n    query,\n}: {\n    query: { postId: string }\n}): Promise<{ data: null | firebase.firestore.DocumentData | '' }> => {\n    const db = firebaseApp.firestore()\n    const docRef = db.collection(COLLECTIONS.POSTS)\n    const postData = await docRef\n        .doc(query.postId)\n        .get()\n        .catch(e => console.error(e))\n    const data = postData && postData.exists ? { ...postData.data(), id: postData.id } : null\n    return { data: data }\n}\n\nexport default PagePostDetail\n"]},"metadata":{},"sourceType":"module"}