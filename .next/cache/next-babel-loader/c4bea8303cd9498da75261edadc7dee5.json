{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport * as React from 'react';\nimport * as firebase from 'firebase/app';\nimport { FirebaseAuth } from 'react-firebaseui';\nimport \"../../assets/css/firebaseui-styling.global.css\";\nimport { bindActionCreators } from 'redux';\nimport { useDispatch } from 'react-redux';\nimport * as Actions from \"../../reducers/user/actions\";\nimport Main from \"../../components/templates/layouts/Main\";\n\nvar Login = function Login() {\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      user = _React$useState2[0],\n      setUser = _React$useState2[1];\n\n  var dispatch = useDispatch();\n  var actions = React.useMemo(function () {\n    return bindActionCreators(Actions, dispatch);\n  }, [dispatch]);\n  var provider = new firebase.auth.FacebookAuthProvider();\n  provider.setCustomParameters({\n    display: 'popup'\n  });\n  var uiConfig = {\n    signInFlow: 'popup',\n    signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID, firebase.auth.FacebookAuthProvider.PROVIDER_ID, firebase.auth.TwitterAuthProvider.PROVIDER_ID],\n    callbacks: {\n      signInSuccessWithAuthResult: function signInSuccessWithAuthResult() {\n        return false;\n      }\n    }\n  };\n  React.useEffect(function () {\n    var unregisterAuthObserver = firebase.auth().onAuthStateChanged(function (user) {\n      return setUser(user);\n    });\n    return function () {\n      unregisterAuthObserver();\n    };\n  }, []);\n  React.useEffect(function () {\n    if (user) {\n      console.log(user);\n      actions.initialize(user);\n    }\n  }, [user]);\n  return __jsx(Main, null, __jsx(React.Fragment, null, __jsx(FirebaseAuth, {\n    uiConfig: uiConfig,\n    firebaseAuth: firebase.auth()\n  }), user && __jsx(\"div\", null, __jsx(\"p\", null, \"name : \".concat(user.displayName)), __jsx(\"p\", null, \"mail : \".concat(user.email)), __jsx(\"p\", null, \"url: \".concat(user.photoURL)), __jsx(\"p\", null, \"uid : \".concat(user.uid)))));\n};\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}