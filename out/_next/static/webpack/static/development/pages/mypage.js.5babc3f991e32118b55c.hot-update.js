webpackHotUpdate("static/development/pages/mypage.js",{

/***/ "./components/templates/mypage/index.tsx":
/*!***********************************************!*\
  !*** ./components/templates/mypage/index.tsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral */ "./node_modules/@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral.js");
/* harmony import */ var _babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs2/regenerator */ "./node_modules/@babel/runtime-corejs2/regenerator/index.js");
/* harmony import */ var _babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs2/helpers/esm/asyncToGenerator */ "./node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_corejs2_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs2/helpers/esm/slicedToArray */ "./node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _emotion_styled__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @emotion/styled */ "./node_modules/@emotion/styled/dist/styled.browser.esm.js");
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @emotion/css */ "./node_modules/@emotion/css/dist/css.browser.esm.js");
/* harmony import */ var _layouts_Main__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layouts/Main */ "./components/templates/layouts/Main.tsx");
/* harmony import */ var _hooks_useLogin__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLogin */ "./components/hooks/useLogin.tsx");
/* harmony import */ var _assets_utils_firebaseApp__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../assets/utils/firebaseApp */ "./assets/utils/firebaseApp.ts");
/* harmony import */ var _assets_constant__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../assets/constant */ "./assets/constant.ts");
/* harmony import */ var _molecules_card__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../molecules/card */ "./components/molecules/card/index.tsx");
/* harmony import */ var _hooks_useModal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useModal */ "./components/hooks/useModal.ts");
/* harmony import */ var _molecules_modal_TermsModal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../molecules/modal/TermsModal */ "./components/molecules/modal/TermsModal.tsx");
/* harmony import */ var _molecules_modal_PrivacyPolicyModal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../molecules/modal/PrivacyPolicyModal */ "./components/molecules/modal/PrivacyPolicyModal.tsx");




var _jsxFileName = "/Users/irie-shinnosuke/Documents/works/skett/skett/components/templates/mypage/index.tsx";
var __jsx = react__WEBPACK_IMPORTED_MODULE_4__["createElement"];

function _templateObject15() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    ", "\n"]);

  _templateObject15 = function _templateObject15() {
    return data;
  };

  return data;
}

function _templateObject14() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    ", "\n"]);

  _templateObject14 = function _templateObject14() {
    return data;
  };

  return data;
}

function _templateObject13() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    width: 325px;\n    height: 80px;\n    background-color: #bdbdbd;\n    color: #fff;\n    font-size: 30px;\n    line-height: 80px;\n    text-align: center;\n    border-radius: 10px;\n"]);

  _templateObject13 = function _templateObject13() {
    return data;
  };

  return data;
}

function _templateObject12() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    display: flex;\n    width: 690px;\n    margin: 0 auto;\n    justify-content: space-between;\n"]);

  _templateObject12 = function _templateObject12() {
    return data;
  };

  return data;
}

function _templateObject11() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    padding-bottom: 60px;\n"]);

  _templateObject11 = function _templateObject11() {
    return data;
  };

  return data;
}

function _templateObject10() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    font-size: 24px;\n    text-decoration: underline;\n"]);

  _templateObject10 = function _templateObject10() {
    return data;
  };

  return data;
}

function _templateObject9() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    margin-bottom: 50px;\n    font-size: 24px;\n    text-decoration: underline;\n"]);

  _templateObject9 = function _templateObject9() {
    return data;
  };

  return data;
}

function _templateObject8() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin: 60px auto;\n"]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    position: relative;\n    display: block;\n    width: 241px;\n    height: 201px;\n    background-image: url(/img/svg/btn_facebook_login.svg);\n    &::after {\n        ", "\n    }\n"]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    position: relative;\n    display: block;\n    width: 241px;\n    height: 201px;\n    background-image: url(/img/svg/btn_twitter_login.svg);\n    &::after {\n        ", "\n    }\n"]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    content: '\u30ED\u30B0\u30A4\u30F3\u6E08';\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: 16px;\n    top: 0;\n    left: 0;\n    background-color: rgba(0, 0, 0, 0.4);\n    font-size: 30px;\n    color: #fff;\n"]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    display: flex;\n    justify-content: space-between;\n"]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    position: relative;\n    margin-bottom: 55px;\n    padding-bottom: 33px;\n    font-size: 38px;\n    text-align: center;\n    color: #000;\n    &::before {\n        content: '';\n        position: absolute;\n        left: 50%;\n        bottom: 0;\n        width: 100px;\n        height: 5px;\n        background-image: linear-gradient(to left, #00b4ed, #0091db);\n        transform: translateX(-50%);\n    }\n"]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    width: 600px;\n    margin: 40px auto 40px;\n    padding: 80px 45px 60px;\n    box-sizing: border-box;\n    background-color: #fff;\n    border-radius: 16px;\n"]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = Object(_babel_runtime_corejs2_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__["default"])(["\n    width: 600px;\n    margin: 80px auto 40px;\n    padding: 80px 45px 60px;\n    box-sizing: border-box;\n    background-color: #fff;\n    border-radius: 16px;\n"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}













var MyPage = function MyPage() {
  var user = Object(_hooks_useLogin__WEBPACK_IMPORTED_MODULE_8__["default"])();
  var db = _assets_utils_firebaseApp__WEBPACK_IMPORTED_MODULE_9__["default"].firestore();
  var docRef = db.collection(_assets_constant__WEBPACK_IMPORTED_MODULE_10__["COLLECTIONS"].POSTS);

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_4__["useState"]([]),
      _React$useState2 = Object(_babel_runtime_corejs2_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__["default"])(_React$useState, 2),
      posts = _React$useState2[0],
      setPosts = _React$useState2[1];

  var _useModal = Object(_hooks_useModal__WEBPACK_IMPORTED_MODULE_12__["default"])(),
      isShowingTerms = _useModal.isShowing,
      toggleTerms = _useModal.toggle;

  var _useModal2 = Object(_hooks_useModal__WEBPACK_IMPORTED_MODULE_12__["default"])(),
      isShowingPrivacyPolicy = _useModal2.isShowing,
      togglePrivacyPolicy = _useModal2.toggle;

  var loadPostsData = react__WEBPACK_IMPORTED_MODULE_4__["useCallback"](
  /*#__PURE__*/
  Object(_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__["default"])(
  /*#__PURE__*/
  _babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee() {
    var data, docs, myPosts;
    return _babel_runtime_corejs2_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            if (!(!user || posts.length)) {
              _context.next = 2;
              break;
            }

            return _context.abrupt("return");

          case 2:
            _context.next = 4;
            return docRef.where('user.uid', '==', user.uid).orderBy('timestamp', 'desc').get()["catch"](function (e) {
              return console.error(e);
            });

          case 4:
            data = _context.sent;

            if (data) {
              _context.next = 7;
              break;
            }

            return _context.abrupt("return");

          case 7:
            docs = data.docs;
            myPosts = docs.map(function (doc) {
              return doc.data();
            });
            setPosts(myPosts);

          case 10:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  })), [docRef, posts.length, user]);
  var isActiveFacebook = react__WEBPACK_IMPORTED_MODULE_4__["useMemo"](function () {
    return (user === null || user === void 0 ? void 0 : user.providerData.map(function (data) {
      return data === null || data === void 0 ? void 0 : data.providerId;
    }).includes('facebook.com')) || false;
  }, [user]);
  var isActiveTwitter = react__WEBPACK_IMPORTED_MODULE_4__["useMemo"](function () {
    return (user === null || user === void 0 ? void 0 : user.providerData.map(function (data) {
      return data === null || data === void 0 ? void 0 : data.providerId;
    }).includes('twitter.com')) || false;
  }, [user]);
  react__WEBPACK_IMPORTED_MODULE_4__["useEffect"](function () {
    loadPostsData();
  }, [loadPostsData]);
  var myPosts = react__WEBPACK_IMPORTED_MODULE_4__["useMemo"](function () {
    return posts.map(function (post, index) {
      var _post$id;

      return __jsx(CardWrapper, {
        key: index,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 52
        },
        __self: this
      }, __jsx(_molecules_card__WEBPACK_IMPORTED_MODULE_11__["default"], {
        key: index,
        imgUrl: post.imageUrl,
        description: post.title,
        link: "/posts/".concat((_post$id = post.id) !== null && _post$id !== void 0 ? _post$id : ''),
        side: post.side,
        __source: {
          fileName: _jsxFileName,
          lineNumber: 53
        },
        __self: this
      }), __jsx(ButtonWrapper, {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 60
        },
        __self: this
      }, __jsx(EditButton, {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 61
        },
        __self: this
      }, "\u7DE8\u96C6"), __jsx(DeleteButton, {
        __source: {
          fileName: _jsxFileName,
          lineNumber: 62
        },
        __self: this
      }, "\u524A\u9664")));
    });
  }, [posts]);
  return __jsx(_layouts_Main__WEBPACK_IMPORTED_MODULE_7__["default"], {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 70
    },
    __self: this
  }, __jsx(react__WEBPACK_IMPORTED_MODULE_4__["Fragment"], {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 71
    },
    __self: this
  }, __jsx(LoginStatus, {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 72
    },
    __self: this
  }, __jsx(Title, {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 73
    },
    __self: this
  }, "\u30A2\u30AB\u30A6\u30F3\u30C8\u72B6\u6CC1"), __jsx(ShareInner, {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 74
    },
    __self: this
  }, __jsx(TwitterButton, {
    onClick: function onClick() {},
    isActive: isActiveTwitter,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 75
    },
    __self: this
  }), __jsx(FacebookButton, {
    onClick: function onClick() {},
    isActive: isActiveFacebook,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 76
    },
    __self: this
  })), __jsx(TextWrapper, {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 78
    },
    __self: this
  }, __jsx(Terms, {
    onClick: toggleTerms,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 79
    },
    __self: this
  }, "\u5229\u7528\u898F\u7D04"), __jsx(PrivacyPolicy, {
    onClick: togglePrivacyPolicy,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 80
    },
    __self: this
  }, "\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u30DD\u30EA\u30B7\u30FC")), __jsx(_molecules_modal_TermsModal__WEBPACK_IMPORTED_MODULE_13__["default"], {
    isShowing: isShowingTerms,
    toggle: toggleTerms,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 82
    },
    __self: this
  }), __jsx(_molecules_modal_PrivacyPolicyModal__WEBPACK_IMPORTED_MODULE_14__["default"], {
    isShowing: isShowingPrivacyPolicy,
    toggle: togglePrivacyPolicy,
    __source: {
      fileName: _jsxFileName,
      lineNumber: 83
    },
    __self: this
  })), __jsx(Past, {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 85
    },
    __self: this
  }, __jsx(Title, {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 86
    },
    __self: this
  }, "\u30A2\u30AB\u30A6\u30F3\u30C8\u72B6\u6CC1")), __jsx("div", {
    __source: {
      fileName: _jsxFileName,
      lineNumber: 88
    },
    __self: this
  }, myPosts)));
};

/* harmony default export */ __webpack_exports__["default"] = (MyPage);
var LoginStatus = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].div(_templateObject());
var Past = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].div(_templateObject2());
var Title = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].p(_templateObject3());
var ShareInner = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].div(_templateObject4());
var AlreadyLogin = Object(_emotion_css__WEBPACK_IMPORTED_MODULE_6__["default"])(_templateObject5());
var TwitterButton = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].div(_templateObject6(), function (props) {
  return props.isActive && AlreadyLogin;
});
var FacebookButton = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].div(_templateObject7(), function (props) {
  return props.isActive && AlreadyLogin;
});
var TextWrapper = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].div(_templateObject8());
var Terms = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].p(_templateObject9());
var PrivacyPolicy = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].p(_templateObject10());
var CardWrapper = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].div(_templateObject11());
var ButtonWrapper = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].div(_templateObject12());
var ButtonStyle = Object(_emotion_css__WEBPACK_IMPORTED_MODULE_6__["default"])(_templateObject13());
var EditButton = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].button(_templateObject14(), ButtonStyle);
var DeleteButton = _emotion_styled__WEBPACK_IMPORTED_MODULE_5__["default"].button(_templateObject15(), ButtonStyle);

/***/ })

})
//# sourceMappingURL=mypage.js.5babc3f991e32118b55c.hot-update.js.map